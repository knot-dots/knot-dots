# Wegweiser Kommune API - Kommunaltyp & G2.2 Mittelstadt Untersuchung

**Datum:** 2025-08-13  
**Untersuchung:** Kommunaltyp-Daten und "G2.2 Mittelstadt, stabil" Klassifikation  
**API-Quelle:** Bertelsmann Stiftung Wegweiser Kommune Data API  
**Status:** ‚úÖ Abgeschlossen

## üéØ Untersuchungsauftrag

Analyse der Wegweiser Kommune API nach verf√ºgbaren Daten zu:
1. **Kommunaltyp-Klassifikationen** (administrative Verwaltungstypen)
2. **"G2.2 Mittelstadt, stabil"** Klassifikation (spezifische demografische Kategorie)

## üìä Kommunaltyp-Daten: Vollst√§ndig verf√ºgbar

### API-Endpunkte
- ‚úÖ `/rest/region/list` - Alle deutschen Verwaltungsregionen
- ‚úÖ `/rest/region/get/{friendlyUrl}` - Spezifische Region mit Details
- ‚úÖ `/rest/region/filter` - Filterung nach Kommunaltyp

### Verf√ºgbare Kommunaltypen
| Kommunaltyp | Anzahl | Anteil | Beschreibung |
|-------------|--------|--------|--------------|
| **GEMEINDE** | 2.997 | 87.9% | St√§dte und Gemeinden |
| **LANDKREIS** | 294 | 8.6% | Kreisebene |
| **KREISFREIE_STADT** | 106 | 3.1% | Kreisfreie St√§dte |
| **BUNDESLAND** | 16 | 0.4% | L√§nderebene |
| **Gesamt** | **3.413** | 100% | Alle deutschen Verwaltungseinheiten |

### Datenstruktur Kommunaltyp
```json
{
  "id": 123456,
  "name": "Beispielstadt",
  "ags": "05315000",
  "ars": "053150000000",
  "type": "KREISFREIE_STADT",
  "bundesland": "Nordrhein-Westfalen",
  "demographicType": 7
}
```

## üîç G2.2 Mittelstadt-Suche: Ergebnis

### ‚ùå Direkte Bezeichnung nicht gefunden
Die API verwendet **NICHT** die Klassifikation "G2.2 Mittelstadt, stabil". Diese Bezeichnung existiert nicht in:
- Demografietyp-Namen (`/rest/demographicTypes`)
- Suggest-API (`/rest/suggest/demographicType`)
- Regionsbeschreibungen
- Themen oder Indikatoren

### ‚úÖ Alternatives Demografietyp-System (Typ 1-11)

Die Wegweiser Kommune API verwendet ein modernes **11-Kategorien-System** statt der gesuchten G2.2-Klassifikation:

| Typ | Bezeichnung | Relevanz f√ºr Mittelstadt |
|-----|-------------|--------------------------|
| **Typ 1** | Stark schrumpfende und alternde Gemeinden in strukturschwachen Regionen | ‚ùå |
| **Typ 2** | Alternde St√§dte und Gemeinden mit sozio√∂konomischen Herausforderungen | ‚ùå |
| **Typ 3** | **Kleine und mittlere Gemeinden** mit moderater Alterung und Schrumpfung | ‚ö†Ô∏è |
| **Typ 4** | **Stabile St√§dte und Gemeinden** in l√§ndlichen Regionen | ‚úÖ |
| **Typ 5** | Moderat wachsende St√§dte und Gemeinden mit regionaler Bedeutung | ‚ö†Ô∏è |
| **Typ 6** | St√§dte/Wirtschaftsstandorte mit sozio√∂konomischen Herausforderungen | ‚ùå |
| **Typ 7** | Gro√üst√§dte und Hochschulstandorte mit heterogener sozio√∂konomischer Dynamik | ‚ùå |
| **Typ 8** | Wohlhabende St√§dte und Gemeinden in wirtschaftlich dynamischen Regionen | ‚ùå |
| **Typ 9** | Wachsende familiengepr√§gte l√§ndliche St√§dte und Gemeinden | ‚ùå |
| **Typ 10** | Wohlhabende St√§dte und Gemeinden im Umfeld von Wirtschaftszentren | ‚ùå |
| **Typ 11** | Sehr wohlhabende St√§dte und Gemeinden in Regionen der Wissensgesellschaft | ‚ùå |

## üéØ Empfohlene Entsprechung: Demografietyp 4

### Warum Typ 4 als G2.2-Ersatz?

**Demografietyp 4: "Stabile St√§dte und Gemeinden in l√§ndlichen Regionen"**

‚úÖ **√úbereinstimmungen:**
- Enth√§lt **"stabile"** Charakterisierung (‚Üí "stabil")
- Bezieht sich auf **"St√§dte"** (‚Üí k√∂nnte Mittelst√§dte einschlie√üen)
- L√§ndlicher Fokus passt zu klassischen Mittelst√§dten
- Numerisch mittlere Position (Typ 4 von 11)

‚ö†Ô∏è **Unterschiede:**
- Kein expliziter "Mittelstadt"-Bezug
- L√§ndlicher statt urbaner Fokus
- Keine G2.2-Kodierung

### Verf√ºgbare Typ 4-Ressourcen

```bash
# API-Endpunkte f√ºr Demografietyp 4
GET /rest/demographicTypes/4
GET /rest/export/bevoelkerung+kommunen-im-demografietyp-4+2023+tabelle.xlsx

# Dokumentation
PDF: /documents/20125/132144/Typ+4.pdf/8759ee19-b579-cf2c-430e-e40a3ded6632
```

## üìã Alternative Kandidaten

### Typ 3: "Kleine und mittlere Gemeinden"
- ‚úÖ Explizite **"mittlere"** Bezeichnung
- ‚ùå Fokus auf "Schrumpfung" statt "Stabilit√§t"
- ‚ö†Ô∏è Gemeinden vs. St√§dte

### Typ 5: "Moderat wachsende St√§dte mit regionaler Bedeutung"  
- ‚úÖ **"St√§dte"** mit regionaler Bedeutung
- ‚úÖ Moderates Wachstum (k√∂nnte Stabilit√§t implizieren)
- ‚ùå Keine direkte Stabilit√§ts-Charakterisierung

## üîß Technische Implementation

### Datenextraktion f√ºr Typ 4
```python
# Demografietyp 4-Daten laden
import requests

base_url = "https://www.wegweiser-kommune.de/data-api"

# 1. Demografietyp-Details
response = requests.get(f"{base_url}/rest/demographicTypes/4")
typ4_details = response.json()

# 2. Alle Kommunen vom Typ 4
regions_url = typ4_details['regionsFile']
# -> Excel-Download mit allen Typ 4-Kommunen

# 3. Filterung nach Typ 4
filter_request = {
    "demographicTypes": [4],
    "regionTypes": ["GEMEINDE", "KREISFREIE_STADT"]  # Nur St√§dte
}
response = requests.post(f"{base_url}/rest/region/filter", json=filter_request)
typ4_regions = response.json()
```

### Datenbankintegration
```sql
-- knot-dots Container-Modell
INSERT INTO containers (payload_type, payload) VALUES 
('administrative_unit', JSON_OBJECT(
    'title', region.name,
    'ags', region.ags,
    'kommunaltyp', region.type,
    'demographicType', 4,  -- Typ 4 als G2.2-Ersatz
    'demographicTypeLabel', 'Stabile St√§dte und Gemeinden in l√§ndlichen Regionen',
    'mittelstadt_equivalent', true  -- Flag f√ºr G2.2-Entsprechung
));
```

## üìà Datenvolumen Typ 4

### Gesch√§tzte Mengen
- **Kommunen Typ 4:** ~200-400 Eintr√§ge (basierend auf 11-Typen-Verteilung)
- **Geodaten:** Polygone f√ºr alle Typ 4-Kommunen verf√ºgbar
- **Zeitreihen:** Demografische Indikatoren 2000-2020+
- **Prognosen:** Bev√∂lkerungsentwicklung bis 2040

## üéØ Fazit & Empfehlungen

### ‚úÖ Kommunaltyp-Daten: Vollst√§ndig verf√ºgbar
- Alle deutschen Verwaltungseinheiten klassifiziert
- API-Integration problemlos m√∂glich
- Standardisierte AGS/ARS-Codes verf√ºgbar

### ‚ö†Ô∏è G2.2 Mittelstadt: Nicht direkt verf√ºgbar

**Situation:**
- "G2.2 Mittelstadt, stabil" existiert nicht in der aktuellen API
- M√∂glicherweise veraltete oder andere Datenquellen-Bezeichnung
- API verwendet modernes 11-Typen-Demografiesystem

**Empfohlene L√∂sung:**
1. **Demografietyp 4** als beste Entsprechung verwenden
2. Zus√§tzliche Filterung nach Bev√∂lkerungsgr√∂√üe (z.B. 20.000-100.000 Einwohner)
3. Dokumentation der Mapping-Entscheidung

### üöÄ N√§chste Schritte

1. **Typ 4-Daten extrahieren** 
   - Excel-Download aller Typ 4-Kommunen
   - PDF-Dokumentation analysieren
   
2. **Bev√∂lkerungsfilter anwenden**
   - Kombination Typ 4 + Gr√∂√üenfilter f√ºr echte "Mittelst√§dte"
   
3. **Validierung mit externen Quellen**
   - Abgleich mit anderen Mittelstadt-Definitionen
   - Plausibilit√§tspr√ºfung der Klassifikation

4. **knot-dots Integration**
   - Container-Import f√ºr Typ 4-Kommunen
   - Flag "mittelstadt_equivalent" setzen

---

**Technische Details:** Alle Untersuchungsergebnisse in `/wegweiser/data/demographic_types_20250813_164156.json`  
**Extraktionsskript:** `/wegweiser/investigate_demographic_types.py`